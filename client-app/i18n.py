# client-app/i18n.py
"""
Internationalization (i18n) support for Causal-MCP application.
"""

# 语言配置字典
LANGUAGES = {
    "en": {
        # 页面标题和描述
        "page_title": "Causal-MCP: Interactive Causal Inference Framework",
        "page_description": """
        **Automated biological hypothesis validation using Mendelian Randomization**
        
        This framework integrates multiple MCP servers to perform comprehensive causal analysis:
        - **eQTL Server**: Find genetic instruments for gene expression
        - **GWAS Server**: Fetch outcome data and harmonize with exposure data  
        - **MR Server**: Perform Mendelian Randomization analysis
        - **Knowledge Server**: Provide biological context and drug target information
        """,
        
        # 侧边栏
        "system_control": "🔧 System Control",
        "initialize_system": "🚀 Initialize System",
        "reinitialize_system": "🔄 Re-initialize System",
        "retry_initialization": "🔄 Retry Initialization",
        "initializing": "Initializing Causal-MCP framework...",
        "reinitializing": "Re-initializing Causal-MCP framework...",
        "init_success": "✅ System initialized successfully!",
        "reinit_success": "✅ System re-initialized successfully!",
        "system_ready": "✅ System Ready",
        "init_failed": "❌ System initialization failed",
        "initializing_auto": "🚀 System will auto-initialize when needed",
        "reinitialize_help": "Re-initialize the system if you encounter issues",
        "system_status": "📊 System Status",
        "overall_health": "Overall Health",
        "click_initialize": "Click 'Initialize System' to check status",
        "llm_settings": "🤖 LLM Settings",
        "show_thinking_process": "Show Thinking Process",
        "show_thinking_help": "Display the LLM's reasoning process in the analysis output",
        
        # 主要内容
        "analysis_config": "🔬 Analysis Configuration",
        "causal_analysis_params": "Causal Analysis Parameters",
        "input_mode": "Input Mode",
        "input_mode_help": "Choose between preset options or custom input",
        "preset_mode": "Preset Mode",
        "custom_mode": "Custom Mode",
        "preset_mode_info": "💡 Use curated gene-trait pairs with validated parameters",
        "custom_mode_warning": "⚠️ Advanced mode: Please ensure gene symbols and trait names are correct",
        "exposure_gene": "Exposure Gene Symbol",
        "exposure_gene_help": "Enter the gene symbol for the exposure variable (e.g., PCSK9, LPA, IL6R)",
        "custom_gene": "Custom Gene Symbol",
        "custom_gene_help": "Enter any valid HGNC gene symbol (e.g., PCSK9, LPA, SORT1)",
        "search_gene": "Search gene in database",
        "outcome_trait": "Outcome Trait",
        "outcome_trait_help": "Select the outcome trait or disease of interest",
        "custom_outcome": "Custom Outcome",
        "custom_outcome_help": "Enter trait name or GWAS study ID (e.g., 'Type 2 Diabetes' or 'ieu-a-26')",
        "tissue_context": "Tissue Context",
        "tissue_context_help": "Select the tissue context for eQTL analysis",
        "custom_tissue": "Custom Tissue",
        "custom_tissue_help": "Enter tissue name (e.g., Whole_Blood, Liver, Brain_Cortex)",
        "advanced_options": "Advanced Options",
        "significance_threshold": "Significance Threshold",
        "significance_threshold_help": "P-value threshold for selecting instrumental variables",
        "population": "Population",
        "population_help": "Target population for GWAS data",
        "coronary_artery_disease": "Coronary Artery Disease",
        "ldl_cholesterol": "LDL Cholesterol",
        "type2_diabetes": "Type 2 Diabetes",
        "body_mass_index": "Body Mass Index",
        "alzheimer_disease": "Alzheimer's Disease",
        "rheumatoid_arthritis": "Rheumatoid Arthritis",
        "breast_cancer": "Breast Cancer",
        "hypertension": "Hypertension",
        "depression": "Depression",
        "schizophrenia": "Schizophrenia",
        "whole_blood": "Whole Blood",
        "liver": "Liver",
        "brain_cortex": "Brain Cortex",
        "heart_left_ventricle": "Heart Left Ventricle",
        "lung": "Lung",
        "muscle_skeletal": "Skeletal Muscle",
        "adipose_subcutaneous": "Subcutaneous Adipose",
        "skin_sun_exposed": "Sun-Exposed Skin",
        "thyroid": "Thyroid",
        "pancreas": "Pancreas",
        "search_outcome": "Search outcome in database",
        "search_tissue": "Search tissue in database",
        "outcome_required": "Outcome trait is required",
        "tissue_required": "Tissue context is required",
        "common_gwas_ids": "Common GWAS Study IDs",
        "available_tissues": "Available Tissues",
        "tissue_specific_info": "💡 Different tissues may show different eQTL effects for the same gene",
        "analysis_options": "Analysis Options",
        "include_pathway": "Include Pathway Analysis",
        "include_drug": "Include Drug Target Analysis",
        "run_analysis": "🚀 Run Causal Analysis",
        "please_initialize": "Please initialize the system first!",
        "auto_initializing_for_analysis": "🚀 Auto-initializing system for analysis...",
        "init_failed_analysis": "❌ System initialization failed. Cannot run analysis.",
        "running_analysis": "Running causal analysis: {} → {}...",
        "analysis_success": "✅ Analysis completed successfully!",
        "analysis_failed": "❌ Analysis failed. Check the results tab for details.",
        
        # 参数帮助
        "parameter_help": "📋 Parameter Help",
        "instruments_found": "Instruments Found",
        "snps_harmonized": "SNPs Harmonized",
        "execution_time": "Execution Time",
        "causal_effect_found": "🎯 **Causal Effect Found**: {}",
        "no_significant_effect": "⚠️ **No Significant Effect**: {}",
        "run_analysis_to_see": "Run an analysis to see results here",

        # 快速结果
        "start_analysis": "🚀 Start Analysis",
        "quick_results": "📈 Quick Results",

        # 详细结果标签页
        "detailed_results": "📋 Detailed Results",
        "summary_tab": "🎯 Summary",
        "mr_results_tab": "📊 MR Results", 
        "biological_context_tab": "🧬 Biological Context",
        "drug_targets_tab": "💊 Drug Targets",
        "analysis_steps_tab": "⚙️ Analysis Steps",
        
        # 摘要页面
        "analysis_summary": "Analysis Summary",
        "key_findings": "### 🔍 Key Findings",
        "recommendations": "### 💡 Recommendations",
        "analysis_overview": "### 📊 Analysis Overview",
        
        # MR结果页面
        "mr_results": "Mendelian Randomization Results",
        "mr_method_results": "### 🔬 MR Method Results",
        "mr_visualizations": "MR Analysis Visualizations",
        "scatter_plot_title": "Scatter Plot",
        "scatter_plot_caption": "SNP effects on exposure vs outcome with regression lines",
        "forest_plot_title": "Forest Plot",
        "forest_plot_caption": "MR results from different methods with confidence intervals",
        "funnel_plot_title": "Funnel Plot",
        "funnel_plot_caption": "Assessment of publication bias and heterogeneity",
        "causal_effect_estimate": "Causal Effect Estimate",
        "mr_method": "MR Method",
        "sensitivity_analysis": "### 🔍 Sensitivity Analysis",
        "heterogeneity_test": "**Heterogeneity Test**",
        "pleiotropy_test": "**Pleiotropy Test**",
        "p_value": "P-value",
        "interpretation": "Interpretation",
        "no_mr_results": "No MR results available",
        
        # 生物学背景页面
        "biological_context": "Biological Context",
        "gene_information": "### 🧬 Gene Information",
        "protein_interactions": "### 🔗 Protein Interactions",
        "disease_associations": "### 🏥 Disease Associations",
        "no_biological_context": "No biological context analysis was performed",
        
        # 药物靶点页面
        "drug_target_analysis": "Drug Target Analysis",
        "targeting_drugs": "### 💊 Targeting Drugs",
        "druggability_assessment": "### 🎯 Druggability Assessment",
        "druggability_score": "Druggability Score",
        "assessment_level": "Assessment Level",
        "therapeutic_opportunities": "**Therapeutic Opportunities:**",
        "no_drug_analysis": "No drug target analysis was performed",
        
        # 分析步骤页面
        "analysis_workflow": "Analysis Workflow Steps",
        "step_execution_times": "Step Execution Times",
        "analysis_step": "Analysis Step",
        "time_seconds": "Time (seconds)",
        
        # 状态和错误信息
        "status_online": "online",
        "status_offline": "offline", 
        "status_error": "error",
        "step": "Step",
        "status": "Status",
        "server": "Server",
        "error": "Error",
        "none": "None",
        
        # 疾病选项
        "coronary_artery_disease": "Coronary Artery Disease",
        "ldl_cholesterol": "LDL Cholesterol",
        "type2_diabetes": "Type 2 Diabetes",
        "body_mass_index": "Body Mass Index",
        
        # 组织选项
        "whole_blood": "Whole_Blood",
        "liver": "Liver",
        "brain_cortex": "Brain_Cortex",

        # 错误和提示信息
        "failed_to_initialize": "Failed to initialize Causal-MCP framework",
        "auto_initializing_system": "🚀 Auto-initializing system... / 正在自动初始化系统...",
        "system_init_success": "✅ System initialized successfully! / 系统初始化成功！",
        "system_init_failed": "❌ System initialization failed / 系统初始化失败",
        "jwt_token_config": "🔑 OpenGWAS JWT Token Configuration",
        "jwt_token_required": "⚠️ **JWT Token Required**: To access real GWAS data, you need to configure your OpenGWAS API JWT token first.",
        "get_jwt_token": "📚 Get JWT Token",
        "configure_jwt_token": "⚙️ Configure JWT Token",
        "jwt_config_success": "🎉 JWT token configured successfully! Reloading application...",
        "applying_new_config": "Applying new configuration...",
        "llm_config_updated": "✅ LLM configuration updated",
        "llm_reinitialization_failed": "⚠️ LLM reinitialization failed, using basic analysis",
        "please_init_system_first": "Please initialize system first",
        "llm_service_not_configured": "🤖 LLM service not configured. Quick setup recommended for enhanced analysis experience",
        "llm_config_completed": "✅ LLM configuration completed!",
        "initializing_llm": "Initializing LLM...",
        "llm_service_started": "✅ LLM service started",
        "llm_service_failed": "ℹ️ LLM service failed to start, using basic analysis",
        "config_save_failed": "❌ Failed to save configuration",
        "first_time_llm_setup": "Welcome! Let's set up your LLM service for enhanced analysis.",
        "analysis_error": "Error occurred during analysis",
        "gene_symbol_valid": "✅ Gene symbol valid",
        "outcome_trait_valid": "✅ Outcome trait valid",
        "tissue_context_valid": "✅ Tissue context valid",
        "gene_placeholder": "e.g.: PCSK9, LPA, SORT1, IL6R...",
        "outcome_placeholder": "e.g.: Coronary Artery Disease, Type 2 Diabetes, ieu-a-7...",
        "tissue_placeholder": "e.g.: Whole_Blood, Liver, Brain_Cortex...",
        "fill_guide": "📝 Fill Guide",
        "common_data": "📊 Common Data",
        "tissue_info": "🔬 Tissue Info",
        "gene_symbol_help": "**🧬 Gene Symbol**\n- Use HGNC standard symbols (e.g., PCSK9, LPA)\n- Case insensitive, automatically converted to uppercase",
        "outcome_trait_help": "**🎯 Outcome Trait**\n- Use standard trait names or GWAS study IDs\n- Examples: 'Coronary Artery Disease', 'ieu-a-7'",
        "tissue_context_help": "**🔬 Tissue Context**\n- Use GTEx standard names\n- Recommended: Whole_Blood (whole blood)",
        "different_tissues_note": "💡 Different tissues may show different eQTL effects",
        "common_gene_examples": "**Common Gene Examples:**\n- `PCSK9` - Proprotein convertase\n- `LPA` - Lipoprotein(a)\n- `SORT1` - Sortilin 1\n- `IL6R` - Interleukin 6 receptor",
        "common_gwas_examples": "**Common GWAS Studies:**\n- `ieu-a-7` - Coronary Artery Disease\n- `ieu-a-26` - Type 2 Diabetes\n- `ieu-a-297` - Alzheimer's Disease\n- `ieu-a-61` - Body Mass Index\n- `ieu-a-300` - LDL Cholesterol",
        "gtex_tissues": "**GTEx Main Tissues:**\n- `Whole_Blood` - Whole Blood ⭐\n- `Liver` - Liver\n- `Brain_Cortex` - Brain Cortex\n- `Heart_Left_Ventricle` - Heart Left Ventricle\n- `Lung` - Lung\n- `Muscle_Skeletal` - Skeletal Muscle",
        "data_source_note": "**Data Sources:**\n- Mainly using GTEx data (multi-tissue)\n- `Whole_Blood` - Whole blood (recommended, large sample size)",
        "recommend_whole_blood": "⭐ Recommended to use Whole_Blood as default choice",
        "mr_analysis_failed": "❌ **MR Analysis Failed**",
        "check_input_retry": "🔧 Please check input data or retry later.",
        "real_mr_calculation": "✅ The following results are based on real Mendelian randomization statistical calculations",
        "no_mr_method_results": "⚠️ No MR method results available",
        "real_data_unavailable": "⚠️ **Real Data Unavailable**",
        "real_bio_data_limited": "💡 This indicates limited information for this gene in real biological databases, which is a normal scientific result.",
        "service_error": "❌ **Service Error**",
        "check_network_retry": "🔧 Please check network connection or retry later.",
        "unknown_error": "❌ **Unknown Error**",
        "real_bio_database": "✅ The following data comes from real biological database APIs",
        "bio_context_not_performed": "⚠️ Biological context analysis not performed or failed",
        "real_drug_data_unavailable": "⚠️ **Real Data Unavailable**",
        "real_drug_database_no_info": "💡 This indicates that there is indeed no relevant information for this gene in real drug databases, which is a normal scientific result.",
        "real_drug_database": "✅ The following data comes from real drug database APIs",
        "no_drug_target_info": "💊 No drug target information found for this gene",
        "drug_analysis_not_performed": "⚠️ Drug analysis not performed or failed",

        # 输入验证相关
        "gene_symbol_empty": "Gene symbol cannot be empty",
        "gene_not_found_with_suggestions": "Gene '{}' not found. Did you mean: {}",
        "gene_not_found": "Gene '{}' not found, please check spelling",
        "outcome_trait_empty": "Outcome trait cannot be empty",
        "trait_not_found_with_suggestions": "Trait '{}' not found. Did you mean: {}",
        "trait_not_found": "Trait '{}' not found, please check spelling or use GWAS study ID",
        "tissue_context_empty": "Tissue context cannot be empty",
        "tissue_not_found_with_suggestions": "Tissue '{}' not found. Did you mean: {}",
        "tissue_not_found": "Tissue '{}' not found, recommend using 'Whole_Blood'",

        # 分析结果相关
        "causal_analysis_report": "Causal Analysis Report: {} → {}",
        "analysis_overview": "Analysis Overview",
        "analysis_overview_text": "This analysis investigated the causal relationship between {} gene expression and {} using Mendelian Randomization.",
        "causal_analysis_results": "Causal Analysis Results",
        "gene_function_context": "Gene Function and Context",
        "therapeutic_implications": "Therapeutic Implications",

        # 备用建议
        "strong_causal_evidence": "Strong causal evidence found - consider validation in independent datasets",
        "investigate_mechanisms": "Investigate biological mechanisms underlying the causal relationship",
        "clinical_implications": "Consider clinical implications and potential therapeutic applications",
        "existing_drugs_target": "Existing drugs target this gene - evaluate therapeutic potential",
        "no_drugs_found": "No existing drugs found - potential drug development opportunity",
        "no_significant_effect": "No significant causal effect detected",
        "alternative_measures": "Consider alternative exposure measures or larger sample sizes",
        "investigate_confounding": "Investigate potential confounding factors",
        "analysis_incomplete": "Analysis incomplete - review error messages and input parameters",
        "ensure_servers_running": "Ensure all MCP servers are running properly",
        "check_data_availability": "Check data availability for the specified gene and outcome",

        # LLM备用解释相关
        "mr_analysis_report": "🧬 Mendelian Randomization Analysis Report",
        "key_findings": "📊 Key Findings",
        "mr_study_description": "This study used Mendelian randomization to analyze the causal relationship between **{}** gene expression and **{}**.",
        "methodological_advantages": "🔬 Methodological Advantages",
        "genetic_variants_iv": "**Genetic variants as instrumental variables**: Leveraging random allocation of genetic variants to reduce confounding bias",
        "multiple_mr_validation": "**Multiple MR method validation**: Cross-validation using IVW, MR-Egger, weighted median methods",
        "sensitivity_analysis": "**Sensitivity analysis**: Detection of heterogeneity and pleiotropy to ensure result reliability",
        "biological_significance": "🎯 Biological Significance",
        "expression_mechanisms": "Expression changes in {} gene may affect {} through the following mechanisms:",
        "direct_regulation": "- Direct regulation of relevant metabolic pathways",
        "protein_function": "- Influence on protein function and interactions",
        "gene_networks": "- Regulation of downstream gene expression networks",
        "clinical_translation": "💡 Clinical Translation Value",
        "drug_target_identification": "- **Drug target identification**: {} may be a potential target for treating {}",
        "personalized_medicine": "- **Personalized medicine**: Risk stratification and treatment selection based on genetic variants",
        "prevention_strategies": "- **Prevention strategies**: Early identification of high-risk individuals",
        "study_limitations": "⚠️ Study Limitations",
        "population_specific": "- MR analysis is based on specific populations, generalizability needs validation",
        "larger_samples": "- Larger sample sizes needed to improve statistical power",
        "functional_validation": "- Functional experiments recommended to validate causal mechanisms",
        "future_research": "📈 Future Research Recommendations",
        "validate_cohorts": "1. Validate causal relationship in independent cohorts",
        "functional_experiments": "2. Conduct functional experiments to elucidate molecular mechanisms",
        "clinical_feasibility": "3. Assess feasibility of clinical applications",
        "drug_validation": "4. Conduct drug target validation studies",
        "enhanced_system_note": "*Note: This report was generated using an enhanced intelligent analysis system combining statistical and biological knowledge.*",

        # MR结果分析相关
        "no_mr_results": "### ❌ Analysis Results\nNo valid MR analysis results obtained.",
        "no_valid_results": "### ❌ Analysis Results\nNo valid analysis results found.",
        "significant_causal_effect": "### ✅ Analysis Results\n**Significant causal effect detected**:",
        "causal_effect_estimate": "- Causal effect estimate: {:.3f} (95% CI: {:.3f} to {:.3f})",
        "statistical_significance": "- Statistical significance: P = {:.3f}",
        "effect_assessment_significant": "- Effect assessment: Statistically significant",
        "conclusion_significant": "**Conclusion**: Strong evidence for causal relationship, recommend further validation and mechanistic studies.",
        "no_significant_effect_detected": "### ⚠️ Analysis Results\n**No significant causal effect detected**:",
        "effect_assessment_nonsignificant": "- Effect assessment: No statistical significance",
        "conclusion_nonsignificant": "**Conclusion**: Current analysis found no significant causal relationship; larger sample sizes or different study designs may be needed."
    },
    
    "zh": {
        # 页面标题和描述
        "page_title": "Causal-MCP: 交互式因果推断框架",
        "page_description": """
        **使用孟德尔随机化进行自动化生物学假设验证**
        
        该框架集成多个MCP服务器来执行综合因果分析：
        - **eQTL服务器**: 寻找基因表达的遗传工具变量
        - **GWAS服务器**: 获取结局数据并与暴露数据协调
        - **MR服务器**: 执行孟德尔随机化分析
        - **知识服务器**: 提供生物学背景和药物靶点信息
        """,
        
        # 侧边栏
        "system_control": "🔧 系统控制",
        "initialize_system": "🚀 初始化系统",
        "reinitialize_system": "🔄 重新初始化系统",
        "retry_initialization": "🔄 重试初始化",
        "initializing": "正在初始化Causal-MCP框架...",
        "reinitializing": "正在重新初始化Causal-MCP框架...",
        "init_success": "✅ 系统初始化成功！",
        "reinit_success": "✅ 系统重新初始化成功！",
        "system_ready": "✅ 系统就绪",
        "init_failed": "❌ 系统初始化失败",
        "initializing_auto": "🚀 系统将在需要时自动初始化",
        "reinitialize_help": "如果遇到问题，可以重新初始化系统",
        "system_status": "📊 系统状态",
        "overall_health": "整体健康状况",
        "click_initialize": "点击'初始化系统'检查状态",
        "llm_settings": "🤖 LLM设置",
        "show_thinking_process": "显示思考过程",
        "show_thinking_help": "在分析输出中显示LLM的推理过程",
        
        # 主要内容
        "analysis_config": "🔬 分析配置",
        "causal_analysis_params": "因果分析参数",
        "input_mode": "输入模式",
        "input_mode_help": "选择预设选项或自定义输入",
        "preset_mode": "预设模式",
        "custom_mode": "自定义模式",
        "preset_mode_info": "💡 使用经过验证的基因-性状配对和参数",
        "custom_mode_warning": "⚠️ 高级模式：请确保基因符号和性状名称正确",
        "exposure_gene": "暴露基因符号",
        "exposure_gene_help": "输入暴露变量的基因符号（如PCSK9、LPA、LDLR）",
        "custom_gene": "自定义基因符号",
        "custom_gene_help": "输入任何有效的HGNC基因符号（如PCSK9、LPA、APOE）",
        "search_gene": "在数据库中搜索基因",
        "outcome_trait": "结局性状",
        "outcome_trait_help": "选择感兴趣的结局性状或疾病",
        "custom_outcome": "自定义结局",
        "custom_outcome_help": "输入性状名称或GWAS研究ID（如'2型糖尿病'或'ieu-a-26'）",
        "tissue_context": "组织背景",
        "tissue_context_help": "选择eQTL分析的组织背景",
        "custom_tissue": "自定义组织",
        "custom_tissue_help": "输入组织名称（如Whole_Blood、Liver、Brain_Cortex）",
        "advanced_options": "高级选项",
        "significance_threshold": "显著性阈值",
        "significance_threshold_help": "选择工具变量的P值阈值",
        "population": "人群",
        "population_help": "GWAS数据的目标人群",
        "coronary_artery_disease": "冠心病",
        "ldl_cholesterol": "低密度脂蛋白胆固醇",
        "type2_diabetes": "2型糖尿病",
        "body_mass_index": "体重指数",
        "alzheimer_disease": "阿尔茨海默病",
        "rheumatoid_arthritis": "类风湿关节炎",
        "breast_cancer": "乳腺癌",
        "hypertension": "高血压",
        "depression": "抑郁症",
        "schizophrenia": "精神分裂症",
        "whole_blood": "全血",
        "liver": "肝脏",
        "brain_cortex": "大脑皮层",
        "heart_left_ventricle": "心脏左心室",
        "lung": "肺",
        "muscle_skeletal": "骨骼肌",
        "adipose_subcutaneous": "皮下脂肪",
        "skin_sun_exposed": "日晒皮肤",
        "thyroid": "甲状腺",
        "pancreas": "胰腺",
        "search_outcome": "在数据库中搜索结局",
        "search_tissue": "在数据库中搜索组织",
        "outcome_required": "结局性状是必需的",
        "tissue_required": "组织背景是必需的",
        "common_gwas_ids": "常用GWAS研究ID",
        "available_tissues": "可用组织",
        "tissue_specific_info": "💡 同一基因在不同组织中可能显示不同的eQTL效应",
        "analysis_options": "分析选项",
        "include_pathway": "包含通路分析",
        "include_drug": "包含药物靶点分析",
        "run_analysis": "🚀 运行因果分析",
        "please_initialize": "请先初始化系统！",
        "auto_initializing_for_analysis": "🚀 正在为分析自动初始化系统...",
        "init_failed_analysis": "❌ 系统初始化失败，无法运行分析。",
        "running_analysis": "正在运行因果分析：{} → {}...",
        "analysis_success": "✅ 分析成功完成！",
        "analysis_failed": "❌ 分析失败。请查看结果标签页了解详情。",
        
        # 参数帮助
        "parameter_help": "📋 参数帮助",
        "instruments_found": "发现工具变量",
        "snps_harmonized": "协调SNP数量",
        "execution_time": "执行时间",
        "causal_effect_found": "🎯 **发现因果效应**: {}",
        "no_significant_effect": "⚠️ **无显著效应**: {}",
        "run_analysis_to_see": "运行分析以查看结果",

        # 快速结果
        "start_analysis": "🚀 开始分析",
        "quick_results": "📈 快速结果",

        # 详细结果标签页
        "detailed_results": "📋 详细结果",
        "summary_tab": "🎯 摘要",
        "mr_results_tab": "📊 MR结果",
        "biological_context_tab": "🧬 生物学背景",
        "drug_targets_tab": "💊 药物靶点",
        "analysis_steps_tab": "⚙️ 分析步骤",
        
        # 摘要页面
        "analysis_summary": "分析摘要",
        "key_findings": "### 🔍 关键发现",
        "recommendations": "### 💡 建议",
        "analysis_overview": "### 📊 分析概览",
        
        # MR结果页面
        "mr_results": "孟德尔随机化结果",
        "mr_method_results": "### 🔬 MR方法结果",
        "mr_visualizations": "MR分析可视化图表",
        "scatter_plot_title": "散点图",
        "scatter_plot_caption": "SNP在暴露和结局上的效应及回归线",
        "forest_plot_title": "森林图",
        "forest_plot_caption": "不同MR方法的结果及置信区间",
        "funnel_plot_title": "漏斗图",
        "funnel_plot_caption": "发表偏倚和异质性评估",
        "causal_effect_estimate": "因果效应估计",
        "mr_method": "MR方法",
        "sensitivity_analysis": "### 🔍 敏感性分析",
        "heterogeneity_test": "**异质性检验**",
        "pleiotropy_test": "**多效性检验**",
        "p_value": "P值",
        "interpretation": "解释",
        "no_mr_results": "无MR结果可用",
        
        # 生物学背景页面
        "biological_context": "生物学背景",
        "gene_information": "### 🧬 基因信息",
        "protein_interactions": "### 🔗 蛋白质相互作用",
        "disease_associations": "### 🏥 疾病关联",
        "no_biological_context": "未执行生物学背景分析",
        
        # 药物靶点页面
        "drug_target_analysis": "药物靶点分析",
        "targeting_drugs": "### 💊 靶向药物",
        "druggability_assessment": "### 🎯 成药性评估",
        "druggability_score": "成药性评分",
        "assessment_level": "评估等级",
        "therapeutic_opportunities": "**治疗机会：**",
        "no_drug_analysis": "未执行药物靶点分析",
        
        # 分析步骤页面
        "analysis_workflow": "分析工作流步骤",
        "step_execution_times": "步骤执行时间",
        "analysis_step": "分析步骤",
        "time_seconds": "时间（秒）",
        
        # 状态和错误信息
        "status_online": "在线",
        "status_offline": "离线",
        "status_error": "错误",
        "step": "步骤",
        "status": "状态",
        "server": "服务器",
        "error": "错误",
        "none": "无",
        
        # 疾病选项
        "coronary_artery_disease": "冠心病",
        "ldl_cholesterol": "低密度脂蛋白胆固醇",
        "type2_diabetes": "2型糖尿病",
        "body_mass_index": "体重指数",
        
        # 组织选项
        "whole_blood": "全血",
        "liver": "肝脏",
        "brain_cortex": "大脑皮层",

        # 错误和提示信息
        "failed_to_initialize": "初始化Causal-MCP框架失败",
        "auto_initializing_system": "🚀 正在自动初始化系统... / Auto-initializing system...",
        "system_init_success": "✅ 系统初始化成功！/ System initialized successfully!",
        "system_init_failed": "❌ 系统初始化失败 / System initialization failed",
        "jwt_token_config": "🔑 OpenGWAS JWT令牌配置",
        "jwt_token_required": "⚠️ **需要配置JWT令牌**：为了访问真实的GWAS数据，您需要先配置OpenGWAS API的JWT令牌。",
        "get_jwt_token": "📚 获取JWT令牌",
        "configure_jwt_token": "⚙️ 配置JWT令牌",
        "jwt_config_success": "🎉 JWT令牌配置成功！正在重新加载应用...",
        "applying_new_config": "正在应用新配置...",
        "llm_config_updated": "✅ LLM配置已更新",
        "llm_reinitialization_failed": "⚠️ LLM重新初始化失败，将使用基础分析",
        "please_init_system_first": "请先初始化系统",
        "llm_service_not_configured": "🤖 LLM服务未配置，建议进行快速设置以获得更好的分析体验",
        "llm_config_completed": "✅ LLM配置完成！",
        "initializing_llm": "正在初始化LLM...",
        "llm_service_started": "✅ LLM服务已启动",
        "llm_service_failed": "ℹ️ LLM服务启动失败，将使用基础分析",
        "config_save_failed": "❌ 配置保存失败",
        "first_time_llm_setup": "欢迎！让我们为您设置 LLM 服务以获得更强大的分析功能。",
        "analysis_error": "分析过程中发生错误",
        "gene_symbol_valid": "✅ 基因符号有效",
        "outcome_trait_valid": "✅ 结局性状有效",
        "tissue_context_valid": "✅ 组织背景有效",
        "gene_placeholder": "例如: PCSK9, LPA, APOE, IL6R...",
        "outcome_placeholder": "例如: Coronary Artery Disease, Type 2 Diabetes, ieu-a-7...",
        "tissue_placeholder": "例如: Whole_Blood, Liver, Brain_Cortex...",
        "fill_guide": "📝 填写指南",
        "common_data": "📊 常用数据",
        "tissue_info": "🔬 组织信息",
        "gene_symbol_help": "**🧬 基因符号**\n- 使用HGNC标准符号（如PCSK9、LPA）\n- 大小写不敏感，自动转换大写",
        "outcome_trait_help": "**🎯 结局性状**\n- 使用标准性状名称或GWAS研究ID\n- 示例：'冠心病'、'ieu-a-7'",
        "tissue_context_help": "**🔬 组织背景**\n- 使用GTEx标准名称\n- 推荐：Whole_Blood（全血）",
        "different_tissues_note": "💡 不同组织可能显示不同的eQTL效应",
        "common_gene_examples": "**常用基因示例：**\n- `PCSK9` - 前蛋白转化酶\n- `LPA` - 脂蛋白(a)\n- `APOE` - 载脂蛋白E\n- `IL6R` - 白细胞介素6受体",
        "common_gwas_examples": "**常用GWAS研究：**\n- `ieu-a-7` - 冠心病\n- `ieu-a-26` - 2型糖尿病\n- `ieu-a-297` - 阿尔茨海默病\n- `ieu-a-61` - 体重指数\n- `ieu-a-300` - LDL胆固醇",
        "gtex_tissues": "**GTEx主要组织：**\n- `Whole_Blood` - 全血 ⭐\n- `Liver` - 肝脏\n- `Brain_Cortex` - 大脑皮层\n- `Heart_Left_Ventricle` - 心脏左心室\n- `Lung` - 肺\n- `Muscle_Skeletal` - 骨骼肌",
        "data_source_note": "**数据来源：**\n- 主要使用GTEx数据（多组织）\n- `Whole_Blood` - 全血（推荐，样本量大）",
        "recommend_whole_blood": "⭐ 推荐使用Whole_Blood作为默认选择",
        "mr_analysis_failed": "❌ **MR分析失败**",
        "check_input_retry": "🔧 请检查输入数据或稍后重试。",
        "real_mr_calculation": "✅ 以下结果基于真实的孟德尔随机化统计计算",
        "no_mr_method_results": "⚠️ 没有可用的MR方法结果",
        "real_data_unavailable": "⚠️ **真实数据不可用**",
        "real_bio_data_limited": "💡 这表明真实生物学数据库中该基因的信息有限，这是正常的科学结果。",
        "service_error": "❌ **服务错误**",
        "check_network_retry": "🔧 请检查网络连接或稍后重试。",
        "unknown_error": "❌ **未知错误**",
        "real_bio_database": "✅ 以下数据来自真实的生物学数据库API",
        "bio_context_not_performed": "⚠️ 生物学背景分析未执行或失败",
        "real_drug_data_unavailable": "⚠️ **真实数据不可用**",
        "real_drug_database_no_info": "💡 这表明真实药物数据库中确实没有该基因的相关信息，这是正常的科学结果。",
        "real_drug_database": "✅ 以下数据来自真实的药物数据库API",
        "no_drug_target_info": "💊 未找到该基因的药物靶点信息",
        "drug_analysis_not_performed": "⚠️ 药物分析未执行或失败",

        # LLM配置相关
        "llm_config": "🤖 LLM 配置",
        "llm_quick_setup": "🚀 LLM 快速设置",
        "llm_setup_description": "请配置 Ollama 连接以启用智能分析功能：",
        "ollama_server_url": "Ollama 服务地址",
        "get_models": "获取模型列表",
        "getting_models": "正在获取模型列表...",
        "select_model": "选择模型",
        "test_and_complete": "测试连接并完成设置",
        "testing_final": "正在测试连接...",
        "back": "返回",
        "skip_setup": "跳过设置（使用基础分析）",
        "test_connection": "测试连接并获取模型列表",
        "complete_setup": "完成设置",
        "testing": "正在测试连接...",
        "test_success": "连接成功！请选择模型：",
        "test_failed": "连接失败：",
        "no_models": "未找到可用模型，请确保已下载模型",
        "setup_complete": "✅ LLM 设置完成！",
        "ensure_ollama_running": "请确保：1) Ollama服务正在运行 2) 已下载至少一个模型",
        "models_detected": "检测到 {} 个可用模型",
        "connection_test_success": "✅ 连接测试成功！LLM配置完成。",

        # JWT配置相关
        "jwt_token_input": "请先输入JWT令牌",
        "language_selector": "Language/语言",

        # 输入验证相关
        "gene_symbol_empty": "基因符号不能为空",
        "gene_not_found_with_suggestions": "未找到基因 '{}'，您是否想输入: {}",
        "gene_not_found": "未找到基因 '{}'，请检查拼写",
        "outcome_trait_empty": "结局性状不能为空",
        "trait_not_found_with_suggestions": "未找到性状 '{}'，您是否想输入: {}",
        "trait_not_found": "未找到性状 '{}'，请检查拼写或使用GWAS研究ID",
        "tissue_context_empty": "组织背景不能为空",
        "tissue_not_found_with_suggestions": "未找到组织 '{}'，您是否想输入: {}",
        "tissue_not_found": "未找到组织 '{}'，推荐使用 'Whole_Blood'",

        # 分析结果相关
        "causal_analysis_report": "因果分析报告: {} → {}",
        "analysis_overview": "分析概述",
        "analysis_overview_text": "本分析使用孟德尔随机化方法研究了{}基因表达与{}之间的因果关系。",
        "causal_analysis_results": "因果分析结果",
        "gene_function_context": "基因功能与背景",
        "therapeutic_implications": "治疗意义",

        # 备用建议
        "strong_causal_evidence": "发现强因果证据 - 建议在独立数据集中验证",
        "investigate_mechanisms": "研究因果关系背后的生物学机制",
        "clinical_implications": "考虑临床意义和潜在治疗应用",
        "existing_drugs_target": "现有药物靶向该基因 - 评估治疗潜力",
        "no_drugs_found": "未发现现有药物 - 潜在药物开发机会",
        "no_significant_effect": "未检测到显著因果效应",
        "alternative_measures": "考虑替代暴露测量或更大样本量",
        "investigate_confounding": "调查潜在混杂因素",
        "analysis_incomplete": "分析不完整 - 检查错误信息和输入参数",
        "ensure_servers_running": "确保所有MCP服务器正常运行",
        "check_data_availability": "检查指定基因和结局的数据可用性",

        # LLM备用解释相关
        "mr_analysis_report": "🧬 孟德尔随机化分析报告",
        "key_findings": "📊 主要发现",
        "mr_study_description": "本研究使用孟德尔随机化方法分析了**{}**基因表达与**{}**之间的因果关系。",
        "methodological_advantages": "🔬 方法学优势",
        "genetic_variants_iv": "**遗传变异作为工具变量**：利用遗传变异的随机分配特性，减少混杂偏倚",
        "multiple_mr_validation": "**多种MR方法验证**：采用IVW、MR-Egger、加权中位数等方法交叉验证",
        "sensitivity_analysis": "**敏感性分析**：检测异质性和多效性，确保结果可靠性",
        "biological_significance": "🎯 生物学意义",
        "expression_mechanisms": "{}基因的表达变化可能通过以下机制影响{}：",
        "direct_regulation": "- 直接调节相关代谢通路",
        "protein_function": "- 影响蛋白质功能和相互作用",
        "gene_networks": "- 调控下游基因表达网络",
        "clinical_translation": "💡 临床转化价值",
        "drug_target_identification": "- **药物靶点识别**：{}可能是治疗{}的潜在靶点",
        "personalized_medicine": "- **个性化医疗**：基于遗传变异的风险分层和治疗选择",
        "prevention_strategies": "- **预防策略**：早期识别高风险个体",
        "study_limitations": "⚠️ 研究局限性",
        "population_specific": "- MR分析基于特定人群，结果的普适性需要验证",
        "larger_samples": "- 需要更大样本量提高统计功效",
        "functional_validation": "- 建议结合功能实验验证因果机制",
        "future_research": "📈 后续研究建议",
        "validate_cohorts": "1. 在独立队列中验证因果关系",
        "functional_experiments": "2. 进行功能实验阐明分子机制",
        "clinical_feasibility": "3. 评估临床应用的可行性",
        "drug_validation": "4. 开展药物靶点验证研究",
        "enhanced_system_note": "*注：本报告使用增强的智能分析系统生成，结合了统计学和生物学知识。*",

        # MR结果分析相关
        "no_mr_results": "### ❌ 分析结果\n未获得有效的MR分析结果。",
        "no_valid_results": "### ❌ 分析结果\n未找到有效的分析结果。",
        "significant_causal_effect": "### ✅ 分析结果\n**检测到显著因果效应**：",
        "causal_effect_estimate": "- 因果效应估计值：{:.3f} (95% CI: {:.3f} to {:.3f})",
        "statistical_significance": "- 统计学显著性：P = {:.3f}",
        "effect_assessment_significant": "- 效应评估：具有统计学显著性",
        "conclusion_significant": "**结论**：有强有力的因果关系证据，建议进一步验证和机制研究。",
        "no_significant_effect_detected": "### ⚠️ 分析结果\n**未检测到显著因果效应**：",
        "effect_assessment_nonsignificant": "- 效应评估：无统计学显著性",
        "conclusion_nonsignificant": "**结论**：当前分析未发现显著的因果关系，可能需要更大样本量或不同的研究设计。"
    }
}

def get_text(key: str, lang: str = "en") -> str:
    """
    获取指定语言的文本。

    Args:
        key: 文本键
        lang: 语言代码 ("en" 或 "zh")，默认为英文

    Returns:
        对应语言的文本，如果找不到则返回英文版本，再找不到返回中文版本
    """
    return LANGUAGES.get(lang, {}).get(key, LANGUAGES["en"].get(key, LANGUAGES["zh"].get(key, key)))

def get_language_options():
    """获取可用的语言选项。"""
    return {
        "English": "en",
        "中文": "zh"
    }
